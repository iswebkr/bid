<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="OpengResultListInfoMapper">

	<sql id="insertOpengResultListInfoQuery">
		-- 개찰결과 등록
		INSERT INTO tb_bid_open_result (
				bid_clsfc_no -- 입찰분류번호 (예: 0=일반입찰)
				, rbid_no -- 재입찰번호 (예: 000=최초입찰, 001=재입찰)
				, bid_ntce_nm -- 입찰공고명
				, openg_dt -- 개찰일시 (개찰이 진행된 일시)
				, prtcpt_cnum -- 참가업체수 (개찰에 참가한 총 업체 수)
				, openg_corp_info -- 개찰업체정보 (참가 업체들의 상세 정보, TEXT 타입)
				, progrss_div_cd_nm -- 진행구분코드명 (예: 개찰완료, 진행중, 유찰 등)
				, inpt_dt -- 입력일시 (시스템에 입력된 일시)
				, rsrvtn_prce_file_existnce_yn -- 예비가격파일존재여부 (Y:존재, N:없음)
				, ntce_instt_cd -- 공고기관코드
				, ntce_instt_nm -- 공고기관명
				, dminstt_cd -- 수요기관코드
				, dminstt_nm -- 수요기관명
				, openg_rslt_ntc_cntnts -- 개찰결과공고내용 (개찰 결과에 대한 상세 설명 또는 공고 내용, TEXT 타입)
				, created_dt -- 생성일시 (시스템 등록일시)
				, created_by -- 생성자 (시스템 등록자)
				, updated_dt -- 수정일시 (시스템 수정일시)
				, updated_by -- 수정자 (시스템 수정자)
				, bid_ntce_no -- 입찰공고번호
				, bid_ntce_ord -- 입찰공고차수
		) VALUES (
				#{bidClsfcNo} -- 입찰분류번호 (예: 0=일반입찰)
				, #{rbidNo} -- 재입찰번호 (예: 000=최초입찰, 001=재입찰)
				, #{bidNtceNm} -- 입찰공고명
				, #{opengDt} -- 개찰일시 (개찰이 진행된 일시)
				, #{prtcptCnum} -- 참가업체수 (개찰에 참가한 총 업체 수)
				, #{opengCorpInfo} -- 개찰업체정보 (참가 업체들의 상세 정보, TEXT 타입)
				, #{progrssDivCdNm} -- 진행구분코드명 (예: 개찰완료, 진행중, 유찰 등)
				, #{inptDt} -- 입력일시 (시스템에 입력된 일시)
				, #{rsrvtnPrceFileExistnceYn} -- 예비가격파일존재여부 (Y:존재, N:없음)
				, #{ntceInsttCd} -- 공고기관코드
				, #{ntceInsttNm} -- 공고기관명
				, #{dminsttCd} -- 수요기관코드
				, #{dminsttNm} -- 수요기관명
				, #{opengRsltNtcCntnts} -- 개찰결과공고내용 (개찰 결과에 대한 상세 설명 또는 공고 내용, TEXT 타입)
				, #{createdDt} -- 생성일시 (시스템 등록일시)
				, #{createdBy} -- 생성자 (시스템 등록자)
				, #{updatedDt} -- 수정일시 (시스템 수정일시)
				, #{updatedBy} -- 수정자 (시스템 수정자)
				, #{bidNtceNo} -- 입찰공고번호
				, #{bidNtceOrd} -- 입찰공고차수
		)
	</sql>

	<select id="selectOpengResultListInfo" parameterType="kr.co.peopleinsoft.g2b.scsbidInfo.dto.opengResultList.OpengResultListInfoDto" resultType="kr.co.peopleinsoft.g2b.scsbidInfo.dto.opengResultList.OpengResultListInfoDto">
		-- 개찰결과 조회
		SELECT
				a.bid_clsfc_no -- 입찰분류번호 (예: 0=일반입찰)
				, a.rbid_no -- 재입찰번호 (예: 000=최초입찰, 001=재입찰)
				, a.bid_ntce_nm -- 입찰공고명
				, a.openg_dt -- 개찰일시 (개찰이 진행된 일시)
				, a.prtcpt_cnum -- 참가업체수 (개찰에 참가한 총 업체 수)
				, a.openg_corp_info -- 개찰업체정보 (참가 업체들의 상세 정보, TEXT 타입)
				, a.progrss_div_cd_nm -- 진행구분코드명 (예: 개찰완료, 진행중, 유찰 등)
				, a.inpt_dt -- 입력일시 (시스템에 입력된 일시)
				, a.rsrvtn_prce_file_existnce_yn -- 예비가격파일존재여부 (Y:존재, N:없음)
				, a.ntce_instt_cd -- 공고기관코드
				, a.ntce_instt_nm -- 공고기관명
				, a.dminstt_cd -- 수요기관코드
				, a.dminstt_nm -- 수요기관명
				, a.openg_rslt_ntc_cntnts -- 개찰결과공고내용 (개찰 결과에 대한 상세 설명 또는 공고 내용, TEXT 타입)
				, a.created_dt -- 생성일시 (시스템 등록일시)
				, a.created_by -- 생성자 (시스템 등록자)
				, a.updated_dt -- 수정일시 (시스템 수정일시)
				, a.updated_by -- 수정자 (시스템 수정자)
				, a.bid_ntce_no -- 입찰공고번호
				, a.bid_ntce_ord -- 입찰공고차수
		FROM 	tb_bid_open_result a -- 개찰결과
	</select>

	<insert id="batchInsertOpengResultListInfo" parameterType="kr.co.peopleinsoft.g2b.scsbidInfo.dto.opengResultList.OpengResultListInfoDto">
		<include refid="insertOpengResultListInfoQuery" />
	</insert>

</mapper>