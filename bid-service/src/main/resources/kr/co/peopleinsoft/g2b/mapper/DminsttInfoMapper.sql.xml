<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="DminsttInfoMapper">
	<sql id="insertDminsttInfoQuery">
		-- 수요기관 등록
		INSERT INTO tb_bid_demand_institute (
		dminstt_cd -- 수요기관코드 (수요기관을 고유하게 식별하는 코드)
		, dminstt_nm -- 수요기관명 (수요기관의 정식 명칭)
		, dminstt_abrvt_nm -- 수요기관약어명 (수요기관의 약칭)
		, dminstt_eng_nm -- 수요기관영문명 (수요기관의 영문 명칭)
		, vld_prd_bgn_dt -- 유효기간시작일자 (기관 정보 유효 시작일)
		, vld_prd_end_dt -- 유효기간종료일자 (기관 정보 유효 종료일)
		, corprt_rgst_no -- 법인등록번호 (법인 등록 시 부여되는 번호)
		, bizno -- 사업자번호 (사업자등록번호, 10자리)
		, jrsdctn_div_nm -- 관할구분명 (예: 중앙행정기관, 지방자치단체, 공공기관 등)
		, instt_ty_cd_lrgclsfc_nm -- 기관유형코드대분류명 (기관 유형의 대분류)
		, instt_ty_cd_midclsfc_nm -- 기관유형코드중분류명 (기관 유형의 중분류)
		, instt_ty_cd_smlclsfc_nm -- 기관유형코드소분류명 (기관 유형의 소분류)
		, bizcndtn_nm -- 업태명 (사업자의 업태, 예: 서비스업, 제조업 등)
		, indstryty_nm -- 업종명 (사업자의 업종)
		, ofcl_fax_no -- 공식팩스번호 (기관의 대표 팩스번호)
		, tel_no -- 전화번호 (기관의 대표 전화번호)
		, fax_no -- 팩스번호 (기관의 팩스번호)
		, rgn_cd -- 지역코드 (행정구역 코드)
		, rgn_nm -- 지역명 (행정구역명, 예: 서울특별시, 경기도 등)
		, zip -- 우편번호 (5자리 또는 6자리)
		, adrs -- 주소 (기본 주소)
		, dtl_adrs -- 상세주소 (상세 주소)
		, hmpg_adrs -- 홈페이지주소 (기관의 공식 웹사이트 URL)
		, dlt_yn -- 삭제여부 (Y:삭제됨, N:사용중)
		, toplvl_instt_cd -- 최상위기관코드 (상위 소속 기관의 코드)
		, toplvl_instt_nm -- 최상위기관명 (상위 소속 기관의 명칭)
		, rgst_dt -- 등록일시 (조달청 시스템 등록일시)
		, chg_dt -- 변경일시 (조달청 시스템 변경일시)
		, created_dt -- 생성일시 (시스템 등록일시)
		, created_by -- 생성자 (시스템 등록자)
		, updated_dt -- 수정일시 (시스템 수정일시)
		, updated_by -- 수정자 (시스템 수정자)
		) VALUES (
		#{dminsttCd} -- 수요기관코드 (수요기관을 고유하게 식별하는 코드)
		, #{dminsttNm} -- 수요기관명 (수요기관의 정식 명칭)
		, #{dminsttAbrvtNm} -- 수요기관약어명 (수요기관의 약칭)
		, #{dminsttEngNm} -- 수요기관영문명 (수요기관의 영문 명칭)
		, #{vldPrdBgnDt} -- 유효기간시작일자 (기관 정보 유효 시작일)
		, #{vldPrdEndDt} -- 유효기간종료일자 (기관 정보 유효 종료일)
		, #{corprtRgstNo} -- 법인등록번호 (법인 등록 시 부여되는 번호)
		, #{bizno} -- 사업자번호 (사업자등록번호, 10자리)
		, #{jrsdctnDivNm} -- 관할구분명 (예: 중앙행정기관, 지방자치단체, 공공기관 등)
		, #{insttTyCdLrgclsfcNm} -- 기관유형코드대분류명 (기관 유형의 대분류)
		, #{insttTyCdMidclsfcNm} -- 기관유형코드중분류명 (기관 유형의 중분류)
		, #{insttTyCdSmlclsfcNm} -- 기관유형코드소분류명 (기관 유형의 소분류)
		, #{bizcndtnNm} -- 업태명 (사업자의 업태, 예: 서비스업, 제조업 등)
		, #{indstrytyNm} -- 업종명 (사업자의 업종)
		, #{ofclFaxNo} -- 공식팩스번호 (기관의 대표 팩스번호)
		, #{telNo} -- 전화번호 (기관의 대표 전화번호)
		, #{faxNo} -- 팩스번호 (기관의 팩스번호)
		, #{rgnCd} -- 지역코드 (행정구역 코드)
		, #{rgnNm} -- 지역명 (행정구역명, 예: 서울특별시, 경기도 등)
		, #{zip} -- 우편번호 (5자리 또는 6자리)
		, #{adrs} -- 주소 (기본 주소)
		, #{dtlAdrs} -- 상세주소 (상세 주소)
		, #{hmpgAdrs} -- 홈페이지주소 (기관의 공식 웹사이트 URL)
		, #{dltYn} -- 삭제여부 (Y:삭제됨, N:사용중)
		, #{toplvlInsttCd} -- 최상위기관코드 (상위 소속 기관의 코드)
		, #{toplvlInsttNm} -- 최상위기관명 (상위 소속 기관의 명칭)
		, #{rgstDt} -- 등록일시 (조달청 시스템 등록일시)
		, #{chgDt} -- 변경일시 (조달청 시스템 변경일시)
		, CURRENT_TIMESTAMP -- 생성일시 (시스템 등록일시)
		, #{createdBy} -- 생성자 (시스템 등록자)
		, CURRENT_TIMESTAMP -- 수정일시 (시스템 수정일시)
		, #{updatedBy} -- 수정자 (시스템 수정자)
		)
	</sql>

	<select id="selectDemandInstituteList" parameterType="kr.co.peopleinsoft.g2b.userInfo.dto.dminsttInfo.DminsttInfoDto" resultType="kr.co.peopleinsoft.g2b.userInfo.dto.dminsttInfo.DminsttInfoDto">
		-- 수요기관 조회
		SELECT
				a.dminstt_cd -- 수요기관코드 (수요기관을 고유하게 식별하는 코드)
				, a.dminstt_nm -- 수요기관명 (수요기관의 정식 명칭)
				, a.dminstt_abrvt_nm -- 수요기관약어명 (수요기관의 약칭)
				, a.dminstt_eng_nm -- 수요기관영문명 (수요기관의 영문 명칭)
				, a.vld_prd_bgn_dt -- 유효기간시작일자 (기관 정보 유효 시작일)
				, a.vld_prd_end_dt -- 유효기간종료일자 (기관 정보 유효 종료일)
				, a.corprt_rgst_no -- 법인등록번호 (법인 등록 시 부여되는 번호)
				, a.bizno -- 사업자번호 (사업자등록번호, 10자리)
				, a.jrsdctn_div_nm -- 관할구분명 (예: 중앙행정기관, 지방자치단체, 공공기관 등)
				, a.instt_ty_cd_lrgclsfc_nm -- 기관유형코드대분류명 (기관 유형의 대분류)
				, a.instt_ty_cd_midclsfc_nm -- 기관유형코드중분류명 (기관 유형의 중분류)
				, a.instt_ty_cd_smlclsfc_nm -- 기관유형코드소분류명 (기관 유형의 소분류)
				, a.bizcndtn_nm -- 업태명 (사업자의 업태, 예: 서비스업, 제조업 등)
				, a.indstryty_nm -- 업종명 (사업자의 업종)
				, a.ofcl_fax_no -- 공식팩스번호 (기관의 대표 팩스번호)
				, a.tel_no -- 전화번호 (기관의 대표 전화번호)
				, a.fax_no -- 팩스번호 (기관의 팩스번호)
				, a.rgn_cd -- 지역코드 (행정구역 코드)
				, a.rgn_nm -- 지역명 (행정구역명, 예: 서울특별시, 경기도 등)
				, a.zip -- 우편번호 (5자리 또는 6자리)
				, a.adrs -- 주소 (기본 주소)
				, a.dtl_adrs -- 상세주소 (상세 주소)
				, a.hmpg_adrs -- 홈페이지주소 (기관의 공식 웹사이트 URL)
				, a.dlt_yn -- 삭제여부 (Y:삭제됨, N:사용중)
				, a.toplvl_instt_cd -- 최상위기관코드 (상위 소속 기관의 코드)
				, a.toplvl_instt_nm -- 최상위기관명 (상위 소속 기관의 명칭)
				, a.rgst_dt -- 등록일시 (조달청 시스템 등록일시)
				, a.chg_dt -- 변경일시 (조달청 시스템 변경일시)
				, a.created_dt -- 생성일시 (시스템 등록일시)
				, a.created_by -- 생성자 (시스템 등록자)
				, a.updated_dt -- 수정일시 (시스템 수정일시)
				, a.updated_by -- 수정자 (시스템 수정자)
		FROM tb_bid_demand_institute a -- 수요기관
	</select>

	<insert id="batchInsertDminsttInfo" parameterType="kr.co.peopleinsoft.g2b.userInfo.dto.dminsttInfo.DminsttInfoDto">
		<include refid="insertDminsttInfoQuery" />
		-- ON CONFLICT (dminstt_cd) DO NOTHING
	</insert>
</mapper>